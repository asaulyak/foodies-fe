import{u as r,l as A,g as E,k as L,s as W,a as T,i as F,r as H,j as e,c as b,b as B,I as x,o as u,M as k,n as D,m as U}from"./index-CWFMWRfZ.js";const M="_card_3kpeb_1",S="_cardContent_3kpeb_11",$="_headerCard_3kpeb_17",z="_recipeImage_3kpeb_35",O="_image_3kpeb_52",P="_recipeDescription_3kpeb_56",Y="_avatarIconsRow_3kpeb_74",q="_iconList_3kpeb_81",G="_iconWrapper_3kpeb_89",J="_active_3kpeb_120",K="_spinner_3kpeb_124",Q="_btn_3kpeb_131",V="_btnWrapper_3kpeb_152",X="_btnThumb_3kpeb_162",Z="_text_3kpeb_166",ee="_accentText_3kpeb_172",se="_iconArrow_3kpeb_204",ae="_iconHeart_3kpeb_205",ce="_loader_3kpeb_218",te="_iconHeartAccent_3kpeb_226",s={card:M,cardContent:S,headerCard:$,recipeImage:z,image:O,recipeDescription:P,avatarIconsRow:Y,iconList:q,iconWrapper:G,active:J,spinner:K,btn:Q,btnWrapper:V,btnThumb:X,text:Z,accentText:ee,iconArrow:se,iconHeart:ae,loader:ce,iconHeartAccent:te},ie=({recipe:g,className:j,borderStyles:v})=>{const{id:a,title:m,user:o,description:N,thumb:f}=g,n=r(A),l=r(E),t=r(L),C=r(W),i=T(),h=F();l&&n.includes(a);const[I,p]=H.useState(C),R=(c,d)=>{if(!l||t!=null&&t.includes(401)){i(u(k.signin));return}if(a===d&&p(!0),c.target.disabled=!0,n.includes(a)){i(D(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===d&&p(!1),c.target.disabled=!1});return}i(U(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===d&&p(!1),c.target.disabled=!1})},w=()=>{h(`/recipe/${a}`)},y=()=>{if(!l||t!=null&&t.includes(401))return i(u(k.signin));h(`/user/${o.id}`)};return e.jsxs("li",{className:b([s.card,j]),children:[e.jsx("div",{className:b([s.recipeImage,v]),children:e.jsx("img",{src:f,alt:m||"Untitled Recipe",className:s.image,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:m||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:N||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:y,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:o.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:o.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:c=>R(c,a),children:I?e.jsx(B,{size:18,className:s.loader}):e.jsx(x,{iconId:"heart",className:b(s.iconHeart,n.includes(a)&&s.iconHeartAccent)})})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:w,children:e.jsx(x,{iconId:"arrow-up",className:s.iconArrow})})})]})]})]})]})};export{ie as R};
