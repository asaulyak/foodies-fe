import{u as r,l as E,g as L,k as W,s as T,a as F,i as H,r as k,j as e,c as m,b as B,I as x,o as u,M as y,n as D,m as U}from"./index-BoQ-Nfvt.js";const M="_card_1yve2_1",S="_cardContent_1yve2_11",$="_headerCard_1yve2_17",z="_recipeImage_1yve2_35",O="_image_1yve2_52",P="_recipeDescription_1yve2_56",Y="_avatarIconsRow_1yve2_74",q="_iconList_1yve2_81",G="_iconWrapper_1yve2_89",J="_active_1yve2_120",K="_spinner_1yve2_124",Q="_btn_1yve2_131",V="_btnWrapper_1yve2_152",X="_btnThumb_1yve2_162",Z="_text_1yve2_166",ee="_accentText_1yve2_172",se="_iconArrow_1yve2_204",ae="_iconHeart_1yve2_205",ce="_loader_1yve2_218",te="_iconHeartAccent_1yve2_226",s={card:M,cardContent:S,headerCard:$,recipeImage:z,image:O,recipeDescription:P,avatarIconsRow:Y,iconList:q,iconWrapper:G,active:J,spinner:K,btn:Q,btnWrapper:V,btnThumb:X,text:Z,accentText:ee,iconArrow:se,iconHeart:ae,loader:ce,iconHeartAccent:te},ie=({recipe:b,className:g,borderStyles:j})=>{const{id:a,title:v,user:o,description:N,thumb:f}=b,n=r(E),l=r(L),t=r(W),C=r(T),i=F(),h=H();l&&n.includes(a);const[I,d]=k.useState(C),R=(c,p)=>{if(!l||t!=null&&t.includes(401)){i(u(y.signin));return}if(a===p&&d(!0),c.target.disabled=!0,n.includes(a)){i(D(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1});return}i(U(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1})},w=()=>{h(`/recipe/${a}`)},A=()=>{if(!l||t!=null&&t.includes(401))return i(u(y.signin));h(`/user/${o.id}`)};return e.jsxs("li",{className:m([s.card,g]),children:[e.jsx("div",{className:m([s.recipeImage,j]),children:e.jsx("img",{src:f,alt:v||"Untitled Recipe",className:s.image,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:v||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:N||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:A,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:o.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:o.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:c=>R(c,a),children:I?e.jsx(B,{size:18,className:s.loader}):e.jsx(x,{iconId:"heart",className:m(s.iconHeart,n.includes(a)&&s.iconHeartAccent)})})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:w,children:e.jsx(x,{iconId:"arrow-up",className:s.iconArrow})})})]})]})]})]})};export{ie as R};
