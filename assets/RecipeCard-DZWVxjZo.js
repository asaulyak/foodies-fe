import{u as r,l as E,g as L,k as W,s as T,a as F,i as H,r as k,j as e,c as m,b as B,I as u,o as b,M as g,n as D,m as U}from"./index-DZbygbWW.js";const M="_card_19137_1",S="_cardContent_19137_11",$="_headerCard_19137_17",z="_recipeImage_19137_35",O="_image_19137_52",P="_recipeDescription_19137_56",Y="_avatarIconsRow_19137_74",q="_iconList_19137_81",G="_iconWrapper_19137_89",J="_active_19137_120",K="_spinner_19137_124",Q="_btn_19137_131",V="_btnWrapper_19137_152",X="_btnThumb_19137_162",Z="_text_19137_166",ee="_accentText_19137_172",se="_iconArrow_19137_204",ae="_iconHeart_19137_205",ce="_loader_19137_218",te="_iconHeartAccent_19137_226",s={card:M,cardContent:S,headerCard:$,recipeImage:z,image:O,recipeDescription:P,avatarIconsRow:Y,iconList:q,iconWrapper:G,active:J,spinner:K,btn:Q,btnWrapper:V,btnThumb:X,text:Z,accentText:ee,iconArrow:se,iconHeart:ae,loader:ce,iconHeartAccent:te},ie=({recipe:j,className:v,borderStyles:N})=>{const{id:a,title:h,user:o,description:f,thumb:C}=j,n=r(E),l=r(L),t=r(W),I=r(T),i=F(),x=H();l&&n.includes(a);const[R,d]=k.useState(I),w=(c,p)=>{if(!l||t!=null&&t.includes(401)){i(b(g.signin));return}if(a===p&&d(!0),c.target.disabled=!0,n.includes(a)){i(D(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1});return}i(U(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1})},y=()=>{x(`/recipe/${a}`)},A=()=>{if(!l||t!=null&&t.includes(401))return i(b(g.signin));x(`/user/${o.id}`)};return e.jsxs("li",{className:m([s.card,v]),children:[e.jsx("div",{className:m([s.recipeImage,N]),children:e.jsx("img",{src:C,alt:h||"Untitled Recipe",className:s.image,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:h||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:f||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:A,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:o.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:o.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:c=>w(c,a),children:R?e.jsx(B,{size:18,className:s.loader}):e.jsx(u,{iconId:"heart",className:m(s.iconHeart,n.includes(a)&&s.iconHeartAccent)})})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:y,children:e.jsx(u,{iconId:"arrow-up",className:s.iconArrow})})})]})]})]})]})};export{ie as R};
