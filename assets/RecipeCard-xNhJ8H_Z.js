import{u as i,l as y,g as A,k as E,s as L,a as W,i as T,r as F,j as e,c as m,b as H,I as u,o as b,M as k,n as B,m as D}from"./index-BM8_i0oL.js";const U="_card_qk1eo_1",M="_cardContent_qk1eo_11",S="_headerCard_qk1eo_17",$="_recipeImage_qk1eo_35",z="_image_qk1eo_52",O="_recipeDescription_qk1eo_56",P="_avatarIconsRow_qk1eo_74",Y="_iconList_qk1eo_81",G="_iconWrapper_qk1eo_89",J="_active_qk1eo_120",K="_spinner_qk1eo_124",Q="_btn_qk1eo_131",V="_btnWrapper_qk1eo_152",X="_btnThumb_qk1eo_162",Z="_text_qk1eo_166",ee="_accentText_qk1eo_172",se="_iconArrow_qk1eo_204",ae="_iconHeart_qk1eo_205",ce="_loader_qk1eo_218",te="_iconHeartAccent_qk1eo_226",s={card:U,cardContent:M,headerCard:S,recipeImage:$,image:z,recipeDescription:O,avatarIconsRow:P,iconList:Y,iconWrapper:G,active:J,spinner:K,btn:Q,btnWrapper:V,btnThumb:X,text:Z,accentText:ee,iconArrow:se,iconHeart:ae,loader:ce,iconHeartAccent:te},oe=({recipe:g,className:j,borderStyles:v})=>{const{id:a,title:h,user:r,description:q,thumb:N}=g,n=i(y),l=i(A),t=i(E),f=i(L),o=W(),x=T();l&&n.includes(a);const[C,d]=F.useState(f),I=(c,p)=>{if(!l||t!=null&&t.includes(401)){o(b(k.signin));return}if(a===p&&d(!0),c.target.disabled=!0,n.includes(a)){o(B(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1});return}o(D(a)).then(_=>{_.payload.type||n.includes(a)}).finally(()=>{a===p&&d(!1),c.target.disabled=!1})},R=()=>{x(`/recipe/${a}`)},w=()=>{if(!l||t!=null&&t.includes(401))return o(b(k.signin));x(`/user/${r.id}`)};return e.jsxs("li",{className:m([s.card,j]),children:[e.jsx("div",{className:m([s.recipeImage,v]),children:e.jsx("img",{src:N,alt:h||"Untitled Recipe",className:s.image,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:h||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:q||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:w,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:r.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:r.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:c=>I(c,a),children:C?e.jsx(H,{size:18,className:s.loader}):e.jsx(u,{iconId:"heart",className:m(s.iconHeart,n.includes(a)&&s.iconHeartAccent)})})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:R,children:e.jsx(u,{iconId:"arrow-up",className:s.iconArrow})})})]})]})]})]})};export{oe as R};
