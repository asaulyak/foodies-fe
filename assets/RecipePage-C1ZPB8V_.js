import{G as q,j as e,c as B,L as u,F as T,r as x,h as g,u as v,s as b,a as f,b as k,B as C,o as W,M as w,d as F,e as L,f as P,P as V}from"./index-DJA5UEcv.js";function K(a){return q({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"},child:[]}]})(a)}const O="_headerCard_23frt_1",G="_recipeImage_23frt_8",S="_textWrap_23frt_16",H="_recipeDescription_23frt_21",Y="_avatarWrapper_23frt_31",z="_avatar_23frt_31",U="_iconList_23frt_43",M="_iconWrapper_23frt_50",I="_recipeCard_23frt_83",o={headerCard:O,recipeImage:G,textWrap:S,recipeDescription:H,avatarWrapper:Y,avatar:z,iconList:U,iconWrapper:M,recipeCard:I},Q="data:image/png;base64,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",X=({recipe:a,className:s})=>{const{id:t,title:i,user:r,description:n,thumb:p}=a;return e.jsxs("li",{className:B([o.recipeCard,s]),children:[e.jsx(u,{to:`/recipe/${t}`,children:e.jsx("img",{src:p,alt:i||"Untitled Recipe",className:o.recipeImage})}),e.jsxs("div",{className:o.textWrap,children:[e.jsx("h3",{className:o.headerCard,children:i||"Untitled Recipe"}),e.jsx("p",{className:o.recipeDescription,children:n||"No description"})]}),e.jsxs("div",{children:[e.jsx(u,{to:`/user/${r==null?void 0:r.id}`,className:o.avatarWrapper,children:e.jsx("img",{src:(r==null?void 0:r.avatar)||Q,alt:`${(r==null?void 0:r.name)||"User"} avatar`,className:o.avatar})}),e.jsxs("ul",{className:o.iconList,children:[e.jsx("li",{children:e.jsx(T,{size:18})}),e.jsx("li",{children:e.jsx(u,{to:`/recipe/${t}`,className:o.iconWrapper,children:e.jsx(K,{size:18})})})]})]})]})},Z="_section_17si5_1",$="_sectionTitle_17si5_19",J="_list_17si5_57",ee="_item_17si5_73",A={section:Z,sectionTitle:$,list:J,item:ee},se=()=>{const[a,s]=x.useState([]);return x.useEffect(()=>{async function t(){return(await g.get("/recipes/popular")).data}t().then(s)},[]),e.jsxs("section",{className:A.section,children:[e.jsx("h2",{className:A.sectionTitle,children:"Popular recipes"}),!!a.length&&e.jsx("ul",{className:A.list,children:a.map(t=>e.jsx(X,{recipe:t,className:A.item},t.id))})]})},te="_wrapper_19wdy_1",ae="_title_19wdy_15",re="_list_19wdy_47",ie="_item_19wdy_65",ce="_imgWrapper_19wdy_85",ne="_img_19wdy_85",oe="_textWrapper_19wdy_129",le="_accentText_19wdy_155",l={wrapper:te,title:ae,list:re,item:ie,imgWrapper:ce,img:ne,textWrapper:oe,accentText:le},pe=({ingredients:a})=>e.jsxs("div",{className:l.wrapper,children:[e.jsx("h3",{className:l.title,children:"Ingredients"}),e.jsx("ul",{className:l.list,children:a.map(s=>e.jsxs("li",{className:l.item,children:[e.jsx("div",{className:l.imgWrapper,children:e.jsx("img",{className:l.img,src:s.image,alt:`Ingredient ${s.title}`,onError:({currentTarget:t})=>{t.onerror=null,t.src="https://placehold.co/60x60/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:l.textWrapper,children:[e.jsx("p",{className:l.accentText,children:s.name}),e.jsx("p",{children:s.quantity||"quantity"})]})]},s.id))})]}),de="_wrapper_nsgkb_1",he="_infoSection_nsgkb_25",me="_title_nsgkb_49",xe="_thumb_nsgkb_83",Ae="_info_nsgkb_25",_e="_description_nsgkb_125",ge="_btn_nsgkb_155",ue="_accentText_nsgkb_181",je="_btnWrapper_nsgkb_195",Ne="_btnThumb_nsgkb_225",ve="_text_nsgkb_233",c={wrapper:de,infoSection:he,title:me,thumb:xe,info:Ae,description:_e,btn:ge,accentText:ue,btnWrapper:je,btnThumb:Ne,text:ve},be="_hero_12qpl_1",fe="_imgWrapper_12qpl_21",j={hero:be,imgWrapper:fe},Ce=({image:a,title:s})=>e.jsx("div",{className:j.hero,children:e.jsx("div",{className:j.imgWrapper,children:e.jsx("img",{className:j.img,src:a||"",alt:`Dish ${s}`,onError:({currentTarget:t})=>{t.onerror=null,t.src="https://placehold.co/400x400/BFBEBE/050505?text=Image not found"},loading:"lazy"})})}),We=({children:a,id:s="",img:t="",title:i="Dish",category:r="Dish",time:n="0",description:p="Dish",authorName:d="John",authorAvatar:h=""})=>{const y=v(b),E=f(),D=k(),R=()=>{if(!y)return E(W(w.signin));D(`/user/${s}`)};return e.jsxs("div",{className:c.wrapper,children:[e.jsx(Ce,{image:t,title:i}),e.jsxs("div",{children:[e.jsxs("section",{className:c.infoSection,children:[e.jsx("h2",{className:c.title,children:i}),e.jsxs("div",{className:c.thumb,children:[e.jsx("p",{className:c.info,children:r}),e.jsxs("p",{className:c.info,children:[n," min"]})]}),e.jsx("p",{className:c.description,children:p}),e.jsxs(C,{type:"button",className:c.btn,onClick:R,children:[e.jsx("div",{className:c.btnWrapper,children:e.jsx("img",{src:h||"",alt:"User Avatar",onError:({currentTarget:N})=>{N.onerror=null,N.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:c.btnThumb,children:[e.jsx("p",{className:c.text,children:"Created by:"}),e.jsx("p",{className:c.accentText,children:d})]})]})]}),a]})]})},we="_wrapper_1jdr1_1",ye="_title_1jdr1_15",Ee="_list_1jdr1_43",De="_item_1jdr1_81",Re="_btn_1jdr1_89",m={wrapper:we,title:ye,list:Ee,item:De,btn:Re},_=["Remove from favorites","Add to favorites"],qe=({preparation:a,recipeId:s})=>{const t=v(b),i=f();let r=!1;t&&(r=t.favoriteRecipes.includes(s));const n=r?_[0]:_[1],p=async d=>{if(!t)return i(W(w.signin));if(!r){await g.post(`/recipes/${s}/favorites`).then(h=>{d.target.textContent=_[0],i(F(s))});return}await g.delete(`/recipes/${s}/favorites`).then(h=>{d.target.textContent=_[1],i(L(s))})};return e.jsxs("section",{className:m.wrapper,children:[e.jsx("h3",{className:m.title,children:"Recipe preparation"}),e.jsx("ul",{className:m.list,children:a.split(`
`).map((d,h)=>e.jsx("p",{className:m.item,children:d},`${Date.now()}-${h}`))}),e.jsx(C,{onClick:p,className:m.btn,children:n})]})},Be=({changeBreadCrumbs:a})=>{const[s,t]=x.useState(null),{id:i}=P();return x.useEffect(()=>{async function r(n){return(await g.get(`/recipes/${n}`)).data}r(i).then(n=>{t(n),a(n.title)})},[i,a]),e.jsx(e.Fragment,{children:!!s&&e.jsxs(We,{id:s.id,img:s.thumb,title:s.title,category:s.category.name,time:s.time,description:s.description,authorName:s.user.name,authorAvatar:s.user.avatar,children:[e.jsx(pe,{ingredients:s.ingredients}),e.jsx(qe,{preparation:s.instructions,recipeId:s.id})]})})},Te="_section_kexri_1",ke={section:Te},Le=()=>{const[a,s]=x.useState("");return e.jsx("section",{className:ke.section,children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"visually-hidden",children:"Recipe Page"}),e.jsx(V,{currentPageName:a}),e.jsx(Be,{changeBreadCrumbs:s}),e.jsx(se,{})]})})};export{Le as default};
