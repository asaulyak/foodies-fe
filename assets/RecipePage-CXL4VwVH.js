import{G as N,j as e,c as q,L as u,r as x,h as g,u as b,s as f,a as C,b as T,B as W,o as w,M as y,d as k,e as L,f as F}from"./index-DhbT1neq.js";import{P}from"./PathInfo-wz4BA0KX.js";function V(t){return N({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"},child:[]}]})(t)}function K(t){return N({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"},child:[]}]})(t)}const O="_headerCard_23frt_1",G="_recipeImage_23frt_8",S="_textWrap_23frt_16",z="_recipeDescription_23frt_21",H="_avatarWrapper_23frt_31",Y="_avatar_23frt_31",M="_iconList_23frt_43",U="_iconWrapper_23frt_50",I="_recipeCard_23frt_83",o={headerCard:O,recipeImage:G,textWrap:S,recipeDescription:z,avatarWrapper:H,avatar:Y,iconList:M,iconWrapper:U,recipeCard:I},Q="data:image/png;base64,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",X=({recipe:t,className:s})=>{const{id:r,title:c,user:a,description:n,thumb:p}=t;return e.jsxs("li",{className:q([o.recipeCard,s]),children:[e.jsx(u,{to:`/recipe/${r}`,children:e.jsx("img",{src:p,alt:c||"Untitled Recipe",className:o.recipeImage})}),e.jsxs("div",{className:o.textWrap,children:[e.jsx("h3",{className:o.headerCard,children:c||"Untitled Recipe"}),e.jsx("p",{className:o.recipeDescription,children:n||"No description"})]}),e.jsxs("div",{children:[e.jsx(u,{to:`/user/${a==null?void 0:a.id}`,className:o.avatarWrapper,children:e.jsx("img",{src:(a==null?void 0:a.avatar)||Q,alt:`${(a==null?void 0:a.name)||"User"} avatar`,className:o.avatar})}),e.jsxs("ul",{className:o.iconList,children:[e.jsx("li",{children:e.jsx(V,{size:18})}),e.jsx("li",{children:e.jsx(u,{to:`/recipe/${r}`,className:o.iconWrapper,children:e.jsx(K,{size:18})})})]})]})]})},Z="_section_17si5_1",$="_sectionTitle_17si5_19",J="_list_17si5_57",ee="_item_17si5_73",A={section:Z,sectionTitle:$,list:J,item:ee},se=()=>{const[t,s]=x.useState([]);return x.useEffect(()=>{async function r(){return(await g.get("/recipes/popular")).data}r().then(s)},[]),e.jsxs("section",{className:A.section,children:[e.jsx("h2",{className:A.sectionTitle,children:"Popular recipes"}),!!t.length&&e.jsx("ul",{className:A.list,children:t.map(r=>e.jsx(X,{recipe:r,className:A.item},r.id))})]})},te="_wrapper_19wdy_1",re="_title_19wdy_15",ae="_list_19wdy_47",ce="_item_19wdy_65",ie="_imgWrapper_19wdy_85",ne="_img_19wdy_85",oe="_textWrapper_19wdy_129",le="_accentText_19wdy_155",l={wrapper:te,title:re,list:ae,item:ce,imgWrapper:ie,img:ne,textWrapper:oe,accentText:le},pe=({ingredients:t})=>e.jsxs("div",{className:l.wrapper,children:[e.jsx("h3",{className:l.title,children:"Ingredients"}),e.jsx("ul",{className:l.list,children:t.map(s=>e.jsxs("li",{className:l.item,children:[e.jsx("div",{className:l.imgWrapper,children:e.jsx("img",{className:l.img,src:s.image,alt:`Ingredient ${s.title}`,onError:({currentTarget:r})=>{r.onerror=null,r.src="https://placehold.co/60x60/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:l.textWrapper,children:[e.jsx("p",{className:l.accentText,children:s.name}),e.jsx("p",{children:s.quantity||"quantity"})]})]},s.id))})]}),de="_wrapper_nsgkb_1",he="_infoSection_nsgkb_25",me="_title_nsgkb_49",xe="_thumb_nsgkb_83",Ae="_info_nsgkb_25",_e="_description_nsgkb_125",ge="_btn_nsgkb_155",ue="_accentText_nsgkb_181",je="_btnWrapper_nsgkb_195",ve="_btnThumb_nsgkb_225",Ne="_text_nsgkb_233",i={wrapper:de,infoSection:he,title:me,thumb:xe,info:Ae,description:_e,btn:ge,accentText:ue,btnWrapper:je,btnThumb:ve,text:Ne},be="_hero_12qpl_1",fe="_imgWrapper_12qpl_21",j={hero:be,imgWrapper:fe},Ce=({image:t,title:s})=>e.jsx("div",{className:j.hero,children:e.jsx("div",{className:j.imgWrapper,children:e.jsx("img",{className:j.img,src:t||"",alt:`Dish ${s}`,onError:({currentTarget:r})=>{r.onerror=null,r.src="https://placehold.co/400x400/BFBEBE/050505?text=Image not found"},loading:"lazy"})})}),We=({children:t,id:s="",img:r="",title:c="Dish",category:a="Dish",time:n="0",description:p="Dish",authorName:d="John",authorAvatar:h=""})=>{const E=b(f),D=C(),R=T(),B=()=>{if(!E)return D(w(y.signin));R(`/user/${s}`)};return e.jsxs("div",{className:i.wrapper,children:[e.jsx(Ce,{image:r,title:c}),e.jsxs("div",{children:[e.jsxs("section",{className:i.infoSection,children:[e.jsx("h2",{className:i.title,children:c}),e.jsxs("div",{className:i.thumb,children:[e.jsx("p",{className:i.info,children:a}),e.jsxs("p",{className:i.info,children:[n," min"]})]}),e.jsx("p",{className:i.description,children:p}),e.jsxs(W,{type:"button",className:i.btn,onClick:B,children:[e.jsx("div",{className:i.btnWrapper,children:e.jsx("img",{src:h||"",alt:"User Avatar",onError:({currentTarget:v})=>{v.onerror=null,v.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:i.btnThumb,children:[e.jsx("p",{className:i.text,children:"Created by:"}),e.jsx("p",{className:i.accentText,children:d})]})]})]}),t]})]})},we="_wrapper_1jdr1_1",ye="_title_1jdr1_15",Ee="_list_1jdr1_43",De="_item_1jdr1_81",Re="_btn_1jdr1_89",m={wrapper:we,title:ye,list:Ee,item:De,btn:Re},_=["Remove from favorites","Add to favorites"],Be=({preparation:t,recipeId:s})=>{const r=b(f),c=C();let a=!1;r&&(a=r.favoriteRecipes.includes(s));const n=a?_[0]:_[1],p=async d=>{if(!r)return c(w(y.signin));if(!a){await g.post(`/recipes/${s}/favorites`).then(h=>{d.target.textContent=_[0],c(k(s))});return}await g.delete(`/recipes/${s}/favorites`).then(h=>{d.target.textContent=_[1],c(L(s))})};return e.jsxs("section",{className:m.wrapper,children:[e.jsx("h3",{className:m.title,children:"Recipe preparation"}),e.jsx("ul",{className:m.list,children:t.split(`
`).map((d,h)=>e.jsx("p",{className:m.item,children:d},`${Date.now()}-${h}`))}),e.jsx(W,{onClick:p,className:m.btn,children:n})]})},qe=({changeBreadCrumbs:t})=>{const[s,r]=x.useState(null),{id:c}=F();return x.useEffect(()=>{async function a(n){return(await g.get(`/recipes/${n}`)).data}a(c).then(n=>{r(n),t(n.title)})},[c,t]),e.jsx(e.Fragment,{children:!!s&&e.jsxs(We,{id:s.id,img:s.thumb,title:s.title,category:s.category.name,time:s.time,description:s.description,authorName:s.user.name,authorAvatar:s.user.avatar,children:[e.jsx(pe,{ingredients:s.ingredients}),e.jsx(Be,{preparation:s.instructions,recipeId:s.id})]})})},Te="_section_kexri_1",ke={section:Te},Pe=()=>{const[t,s]=x.useState("");return e.jsx("section",{className:ke.section,children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"visually-hidden",children:"Recipe Page"}),e.jsx(P,{currentPageName:t}),e.jsx(qe,{changeBreadCrumbs:s}),e.jsx(se,{})]})})};export{Pe as default};
