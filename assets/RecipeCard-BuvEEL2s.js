import{u as r,l as T,g as W,k as w,s as k,a as I,i as E,r as D,j as e,c as _,L as M,b as U,o as x,M as b,n as z,m as A}from"./index-CssP6DsE.js";import{F as B,a as $}from"./index-C4yYl6aD.js";import{M as H}from"./index-Cy3ket5a.js";const O="_card_usehm_1",S="_cardContent_usehm_11",P="_headerCard_usehm_17",Y="_recipeImage_usehm_28",q="_recipeDescription_usehm_40",G="_avatarIconsRow_usehm_58",J="_iconList_usehm_65",K="_iconWrapper_usehm_73",Q="_active_usehm_104",V="_spinner_usehm_108",X="_btn_usehm_115",Z="_btnWrapper_usehm_135",ee="_btnThumb_usehm_145",se="_text_usehm_149",ae="_accentText_usehm_155",s={card:O,cardContent:S,headerCard:P,recipeImage:Y,recipeDescription:q,avatarIconsRow:G,iconList:J,iconWrapper:K,active:Q,spinner:V,btn:X,btnWrapper:Z,btnThumb:ee,text:se,accentText:ae},ie=({recipe:j,className:g,borderStyles:v})=>{const{id:a,title:h,user:o,description:f,thumb:N}=j,c=r(T),l=r(W),n=r(w),C=r(k),i=I(),u=E();l&&c.includes(a);const[R,d]=D.useState(C),L=(t,p)=>{if(!l||n!=null&&n.includes(401)){i(x(b.signin));return}if(a===p&&d(!0),t.target.disabled=!0,c.includes(a)){i(z(a)).then(m=>{m.payload.type||c.includes(a)}).finally(()=>{a===p&&d(!1),t.target.disabled=!1});return}i(A(a)).then(m=>{m.payload.type||c.includes(a)}).finally(()=>{a===p&&d(!1),t.target.disabled=!1})},y=()=>{u(`/recipe/${a}`)},F=()=>{if(!l||n!=null&&n.includes(401))return i(x(b.signin));u(`/user/${o.id}`)};return e.jsxs("li",{className:_([s.card,g]),children:[e.jsx(M,{to:`/recipe/${a}`,children:e.jsx("img",{src:N,alt:h||"Untitled Recipe",className:_([s.recipeImage,v])})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:h||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:f||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:F,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:o.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:t})=>{t.onerror=null,t.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:o.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:t=>L(t,a),children:R?e.jsx(U,{size:18}):c.includes(a)?e.jsx(B,{size:18}):e.jsx($,{size:18})})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:y,children:e.jsx(H,{size:18})})})]})]})]})]})};export{ie as R};
