import{u as l,n as w,i as F,m as I,s as T,a as W,k,r as E,j as e,c as _,L as $,F as D,v as U,$ as M,M as z,o as x,l as b,q as A,p as B}from"./index-B4nxBvx0.js";const H="_card_usehm_1",O="_cardContent_usehm_11",S="_headerCard_usehm_17",q="_recipeImage_usehm_28",P="_recipeDescription_usehm_40",Y="_avatarIconsRow_usehm_58",G="_iconList_usehm_65",J="_iconWrapper_usehm_73",K="_active_usehm_104",Q="_spinner_usehm_108",V="_btn_usehm_115",X="_btnWrapper_usehm_135",Z="_btnThumb_usehm_145",ee="_text_usehm_149",se="_accentText_usehm_155",s={card:H,cardContent:O,headerCard:S,recipeImage:q,recipeDescription:P,avatarIconsRow:Y,iconList:G,iconWrapper:J,active:K,spinner:Q,btn:V,btnWrapper:X,btnThumb:Z,text:ee,accentText:se},te=({recipe:j,className:v,borderStyles:g})=>{const{id:a,title:m,user:d,description:f,thumb:N}=j,t=l(w),p=l(F),n=l(I),C=l(T),r=W(),u=k();p&&t.includes(a);const[o,h]=E.useState(C),R=c=>{if(!p||n!=null&&n.includes(401)){r(x(b.signin));return}if(c.target.disabled=!0,h(!0),t.includes(a)){r(A(a)).then(i=>{i.payload.type||t.includes(a)}).finally(i=>{h(!1),c.target.disabled=!1});return}r(B(a)).then(i=>{i.payload.type||t.includes(a)}).finally(i=>{h(!1),c.target.disabled=!1})},L=()=>{u(`/recipe/${a}`)},y=()=>{if(!p||n!=null&&n.includes(401))return r(x(b.signin));u(`/user/${d.id}`)};return e.jsxs("li",{className:_([s.card,v]),children:[e.jsx($,{to:`/recipe/${a}`,children:e.jsx("img",{src:N,alt:m||"Untitled Recipe",className:_([s.recipeImage,g])})}),e.jsxs("div",{className:s.cardContent,children:[e.jsxs("div",{className:s.textWrap,children:[e.jsx("h3",{className:s.headerCard,children:m||"Untitled Recipe"}),e.jsx("p",{className:s.recipeDescription,children:f||"No description"})]}),e.jsxs("div",{className:s.avatarIconsRow,children:[e.jsx("button",{type:"button",className:s.btn,onClick:y,children:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:s.btnWrapper,children:e.jsx("img",{src:d.avatar||"https://www.gravatar.com/avatar",alt:"User Avatar",onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsx("span",{className:s.btnThumb,children:e.jsx("span",{className:s.accentText,children:d.name})})]})}),e.jsxs("ul",{className:s.iconList,children:[e.jsx("li",{children:e.jsxs("button",{type:"button",className:s.iconWrapper,onClick:R,children:[t.includes(a)&&!o&&e.jsx(D,{size:18}),!t.includes(a)&&!o&&e.jsx(U,{size:18}),o&&e.jsx("span",{className:s.spinner,children:e.jsx(M,{visible:o,width:"80",color:"#bfbebe",ariaLabel:"infinity-spin-loading"})})]})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:s.iconWrapper,onClick:L,children:e.jsx(z,{size:18})})})]})]})]})]})};export{te as R};
