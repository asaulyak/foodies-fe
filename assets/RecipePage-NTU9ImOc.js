import{G as v,j as e,c as R,L as j,r as _,h as b,u as f,s as $,a as W,b as T,B as w,o as B,d as z,N as E}from"./index-BTcm_Q7M.js";function L(t){return v({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"},child:[]}]})(t)}function D(t){return v({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.22 14.78a.75.75 0 0 0 1.06 0l7.22-7.22v5.69a.75.75 0 0 0 1.5 0v-7.5a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0 0 1.5h5.69l-7.22 7.22a.75.75 0 0 0 0 1.06Z",clipRule:"evenodd"},child:[]}]})(t)}const P="_headerCard_vanzh_1",S="_recipeImage_vanzh_8",M="_textWrap_vanzh_16",F="_recipeDescription_vanzh_21",U="_avatarWrapper_vanzh_32",q="_avatar_vanzh_32",H="_iconList_vanzh_43",A="_iconWrapper_vanzh_50",o={headerCard:P,recipeImage:S,textWrap:M,recipeDescription:F,avatarWrapper:U,avatar:q,iconList:H,iconWrapper:A},G=({recipe:t,className:s})=>{const{id:c,title:a,user:r,description:i,thumb:p}=t;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:R([o.recipeCard,s]),children:[e.jsx(j,{to:`/recipe/${c}`,children:e.jsx("img",{src:p,alt:a,className:o.recipeImage})}),e.jsxs("div",{className:o.textWrap,children:[e.jsx("h3",{className:o.headerCard,children:a}),e.jsx("p",{className:o.recipeDescription,children:i})]}),e.jsxs("div",{children:[e.jsx(j,{to:`/user/${r.id}`,className:o.avatarWrapper,children:e.jsx("img",{src:r.avatar,alt:`${r.name} avatar`,className:o.avatar})}),e.jsxs("ul",{className:o.iconList,children:[e.jsx("li",{children:e.jsx(L,{size:18})}),e.jsx("li",{children:e.jsx(j,{to:`/recipe/${c}`,className:o.iconWrapper,children:e.jsx(D,{size:18})})})]})]})]})})},J="_section_17si5_1",Z="_sectionTitle_17si5_19",K="_list_17si5_57",O="_item_17si5_73",h={section:J,sectionTitle:Z,list:K,item:O},Q=()=>{const[t,s]=_.useState([]);return _.useEffect(()=>{async function c(){return(await b.get("/recipes/popular")).data}c().then(s)},[]),e.jsxs("section",{className:h.section,children:[e.jsx("h2",{className:h.sectionTitle,children:"Popular recipes"}),!!t.length&&e.jsx("ul",{className:h.list,children:t.map(c=>e.jsx(G,{recipe:c,className:h.item},c.id))})]})},V="_wrapper_19wdy_1",X="_title_19wdy_15",Y="_list_19wdy_47",ee="_item_19wdy_65",se="_imgWrapper_19wdy_85",te="_img_19wdy_85",ce="_textWrapper_19wdy_129",ne="_accentText_19wdy_155",l={wrapper:V,title:X,list:Y,item:ee,imgWrapper:se,img:te,textWrapper:ce,accentText:ne},ae=({ingredients:t})=>e.jsxs("div",{className:l.wrapper,children:[e.jsx("h3",{className:l.title,children:"Ingredients"}),e.jsx("ul",{className:l.list,children:t.map(s=>e.jsxs("li",{className:l.item,children:[e.jsx("div",{className:l.imgWrapper,children:e.jsx("img",{className:l.img,src:s.image,alt:`Ingredient ${s.title}`,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/60x60/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:l.textWrapper,children:[e.jsx("p",{className:l.accentText,children:s.name}),e.jsx("p",{children:s.quantity||"quantity"})]})]},s.id))})]}),ie="_wrapper_nsgkb_1",re="_infoSection_nsgkb_25",oe="_title_nsgkb_49",le="_thumb_nsgkb_83",pe="_info_nsgkb_25",de="_description_nsgkb_125",_e="_btn_nsgkb_155",he="_accentText_nsgkb_181",me="_btnWrapper_nsgkb_195",xe="_btnThumb_nsgkb_225",je="_text_nsgkb_233",n={wrapper:ie,infoSection:re,title:oe,thumb:le,info:pe,description:de,btn:_e,accentText:he,btnWrapper:me,btnThumb:xe,text:je},ue="_hero_12qpl_1",ge="_imgWrapper_12qpl_21",u={hero:ue,imgWrapper:ge},Ne=({image:t,title:s})=>e.jsx("div",{className:u.hero,children:e.jsx("div",{className:u.imgWrapper,children:e.jsx("img",{className:u.img,src:t||"",alt:`Dish ${s}`,onError:({currentTarget:c})=>{c.onerror=null,c.src="https://placehold.co/400x400/BFBEBE/050505?text=Image not found"},loading:"lazy"})})}),ve=({children:t,id:s="",img:c="",title:a="Dish",category:r="Dish",time:i="0",description:p="Dish",authorName:x="John",authorAvatar:g=""})=>{const k=f($),I=W(),y=T(),C=()=>{if(!k)return I(B());y(`/user/${s}`)};return e.jsxs("div",{className:n.wrapper,children:[e.jsx(Ne,{image:c,title:a}),e.jsxs("div",{children:[e.jsxs("section",{className:n.infoSection,children:[e.jsx("h2",{className:n.title,children:a}),e.jsxs("div",{className:n.thumb,children:[e.jsx("p",{className:n.info,children:r}),e.jsxs("p",{className:n.info,children:[i," min"]})]}),e.jsx("p",{className:n.description,children:p}),e.jsxs(w,{type:"button",className:n.btn,onClick:C,children:[e.jsx("div",{className:n.btnWrapper,children:e.jsx("img",{src:g||"",alt:"User Avatar",onError:({currentTarget:N})=>{N.onerror=null,N.src="https://placehold.co/50x50/BFBEBE/050505?text=Image"}})}),e.jsxs("div",{className:n.btnThumb,children:[e.jsx("p",{className:n.text,children:"Created by:"}),e.jsx("p",{className:n.accentText,children:x})]})]})]}),t]})]})},be="_wrapper_1jdr1_1",fe="_title_1jdr1_15",$e="_list_1jdr1_43",We="_item_1jdr1_81",we="_btn_1jdr1_89",d={wrapper:be,title:fe,list:$e,item:We,btn:we},ke=({preparation:t,recipeId:s})=>{const c=W(),a=f($),r="Add to favorites",i=()=>{if(!a)return c(openModal())};return e.jsxs("section",{className:d.wrapper,children:[e.jsx("h3",{className:d.title,children:"Recipe preparation"}),e.jsx("ul",{className:d.list,children:t.split(`
`).map((p,x)=>e.jsx("p",{className:d.item,children:p},`${Date.now()}-${x}`))}),e.jsx(w,{onClick:i,className:d.btn,children:r})]})},Ie=({changeBreadCrumbs:t})=>{const[s,c]=_.useState(null),{id:a}=z();return _.useEffect(()=>{async function r(i){return(await b.get(`/recipes/${i}`)).data}r(a).then(i=>{c(i),t(i.title)})},[a,t]),e.jsx(e.Fragment,{children:!!s&&e.jsxs(ve,{id:s.id,img:s.thumb,title:s.title,category:s.category.name,time:s.time,description:s.description,authorName:s.user.name,authorAvatar:s.user.avatar,children:[e.jsx(ae,{ingredients:s.ingredients}),e.jsx(ke,{preparation:s.instructions,recipeId:s.id})]})})},ye="_pathInfo_e1c70_1",Ce="_link_e1c70_21",Re="_delimiter_e1c70_47",Te="_accentText_e1c70_55",m={pathInfo:ye,link:Ce,delimiter:Re,accentText:Te},Be=({currentPageName:t})=>e.jsxs("div",{className:m.pathInfo,children:[e.jsx(E,{className:m.link,to:"/",children:"Home"}),t&&e.jsx("span",{className:m.delimiter,children:" / "}),e.jsx("p",{className:m.accentText,children:t})]}),ze="_section_kexri_1",Ee={section:ze},De=()=>{const[t,s]=_.useState("");return e.jsx("section",{className:Ee.section,children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"visually-hidden",children:"Recipe Page"}),e.jsx(Be,{currentPageName:t}),e.jsx(Ie,{changeBreadCrumbs:s}),e.jsx(Q,{})]})})};export{De as default};
